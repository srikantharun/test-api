requirements:
  - block: PVE
    category: FEAT
    index: 1
    description: "The commulative PVE performance shall provide sufficient processing power to handle 16x 1080p streams as specified in PVE-BENCH-P1."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 2
    description: "The PVE cores shall comply with the RISC-V specification RV64IMAFZicsrZifenceiCZve32fZvfh."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 3
    description: "The PVE cores shall be able to synchronize using RISC-V A-extension cluster internally with a low latency of 10 cycles in the average case as seen from an SW perspective (`read_cycle(); amoadd; read_cycle()`)."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 4
    description: "The PVE-local SPM shall natively support atomic memory operations."
    criticality: bronze
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 5
    description: "The cores within the PVE shall be able to synchronize with the other RISC-V cores (outside of the PVE) using atomic memory operations and LR/SC on SYS-SPM and DDR memory. Only the LTF port needs to support locked transactions."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 6
    description: "The PVE shall contain a CSR for pseudo-static / slow-changing configurations. The CSR can only be accessed by the CFG bus."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 7
    description: "The PVE shall contain performance counter infrastructure to roughly trace one core and one DMA simultaneously. The distinction between which core and which DMA to trace shall be made by setting appropriate CSRs. The decision which core to trace will be done by a quasi-static signal, no hardware interlock mechanism needs to be present (i.e., the decision which core to trace can be done before the PVE exits reset). Tracing shall be used for detailed performance analysis."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 8
    description: "The PVE shall resolve all atomic memory operations internally. It will only make locked AXI transaction twoards the NoC on the narrow port. The AMO adapter will resolve those atomics to LR/SC sequences."
    criticality: bronze
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 9
    description: "The PVE shall incorporate a timer facility on which the cores can be individually interrupted on a microsecond period. The timer may be connected to the reference clock (50 MHz)."
    criticality: bronze
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 10
    description: "The reference clock shall not change during runtime i.e., provide a stable time reference (for example it should not change when clock dividers, or PLLs are configured for the PVE main clock)."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 11
    description: "Each core shall have its own timer interrupt with a separate timer compare register. The timer shall be compatible with the [ACLINT](https://github.com/riscv/riscv-aclint/blob/main/riscv-aclint.adoc) specification."
    criticality: bronze
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 12
    description: "The PVE shall contain a facility to interrupt each core within the PVE by writing to a memory-mapped registers. The interrupt controller shall be compatible with the ACLINT specification: ."
    criticality: bronze
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 13
    description: "The PVE shall provide DMA functionality with eight channels in total. Each channel will be allocated to one hart. Allocation shall be runtime configurable."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 14
    description: "The DMA shall be able to interrupt the RISC-V core when transfers are completed."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 15
    description: "The DMA shall be capable of independently doing 2D transfers. An aligned transfer, with a packed inner-dimension, shall be able to utilize 100% of the wide bus."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 16
    description: "The DMA shall have full bus throughput (512-bit / cycle) into the L1 memory, assuming no banking conflicts."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 17
    description: "The DMA shall have priority and shall be able to write 4x 128-bit L1 banks simultaneously per cycle whenever it wants to have access."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 18
    description: "The DMA shall be able to utilize a minimum of 90% of the bandwidth into one LPDDR, assuming no negative effects on the LPDDR controller (re-fresh, page-openings, etc.)."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 19
    description: "Two cores within the a cluster shall share 4 MiB of L1 scratchpad memory."
    criticality: bronze
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 20
    description: "One PVE shall contain eight CVA6V (four cluster) and a total of 16 MiB L1 memory."
    criticality: bronze
    owner: Florian Zaruba
  - block: PVE
    category: PWR
    index: 21
    description: "The PVE shall be fully clock-gateable. The remaining power shall be leakage only."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: PWR
    index: 22
    description: "An inactive, but ungated, PVE shall use minimal power (best effort)."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: PWR
    index: 23
    description: "By default the CVA6V cores shall remain gated, the APU shall be able to pre-load, set the boot address, and then un-gate the clock of the PVE to launch a kernel."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 24
    description: "The SPM shall be 256 KiB in size, logically treated as a single bank."
    criticality: bronze
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 25
    description: "PVEs SPM shall be ECC protected. It shall withstand a double error and be able to correct a single error."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 26
    description: "The L1 may not be ECC protected."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 27
    description: "CVA6Vs caches shall be parity protected. It shall detect a single-error."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 28
    description: "CVA6V instruction cache shall be 16 KiB, 256-bit cache-line width, and 2-way set associative."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 29
    description: "CVA6V data cache shall be 64 KiB, 256-bit cache-line width, 8-way set associative, and employ a write-back cache policy."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 30
    description: "(Data) caches may not be coherent."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 31
    description: "The same physical PVE cluster shall be instantiated two times at the top-level with unique, non-overlapping address maps."
    criticality: bronze
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 33
    description: "LPDDR and (local) SPM memory regions shall be cached."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 34
    description: "SYS-SPM and L2 shall not be cached. Accesses shall be treated as going to device regions."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 35
    description: "HTF: 512-bit @ 1.2GHz full-duplex BW into any L2, and  into four dedicated LPDDR controllers."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 36
    description: "LTF Subordinate: 64-bit @ 1.2GHz, simplex"
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 37
    description: "LTF Subordinate: The LTF port shall provide external access to the entire internal memory map of the PVE."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 38
    description: "LTF Initiator: 64-bit @ 1.2GHz, simplex"
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 39
    description: "LTF Initiator: The LTF initiator port shall have low-latency access to DDR, L2, and SYS-SPM (best effort - low as possible given time, and resource constraints)."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 40
    description: "All cores in the PVE shall be able to execute from either SPM, L2, LPDDR, or SYS-SPM. The main use-case is to fetch from LPDDR and local-SPM. Stack and heap can also be in LPDDR and local-SPM."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 41
    description: "The PVE cores will be debugged by a top-level debug module. That includes halt, single-step, reset, and breakpoints."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 43
    description: "The aligned central portion of an unaligned 1D/2D transfer shall operate at 100% bus bandwidth."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 44
    description: "The APU can program and dispatch the PVE with the required kernel image processing kernel."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 45
    description: "The PVE can interrupt the APU when output data has been finished, or whenever an error condition has occurred by writing to a memory-mapped interrupt register of the APU."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 46
    description: "The PVE shall be able to run at 1.2 GHz."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 47
    description: "The L1 shall be structured an way that the 128-bit banks are grouped together in a 512-bit."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 48
    description: "There will be one remote PVT probe per PVE."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 49
    description: "DMA channels shall have fair arbitration on the L1 banks."
    criticality: gold
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 50
    description: "The PVE shall implement a basic set of performance counters as listed below. banks."
    criticality: silver
    owner: Florian Zaruba
  - block: PVE
    category: FEAT
    index: 51
    description: "The DMA shall not impose any restrictions on the source or destination address alignment i.e., copies of any (byte) length, from any (byte) start address to any byte destination address shall be handled by the DMA."
    criticality: silver
    owner: Florian Zaruba
