#!/usr/bin/env bash

set -e

VENV=.venv/generate_lpddr_cinit_sequence

make -C $REPO_ROOT/bin venv VENV=$VENV FILE=$REPO_ROOT/sw/scripts/lpddr/generate_lpddr_cinit_sequence-requirements.txt > /dev/null 2>&1

source $REPO_ROOT/bin/$VENV/bin/activate
$REPO_ROOT/sw/scripts/lpddr/generate_lpddr_cinit_sequence $@
deactivate

# When running in parallel the terminal can get confused
if [ -t 0 ] ; then
  stty sane
fi
