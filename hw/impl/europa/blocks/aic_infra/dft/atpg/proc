//
// Written by Tessent Shell 2024.1 on Mon Apr 22 20:38:21 2024
//
set time scale 1.000000 ns ;
set strobe_window time 10 ;

 timeplate gen_tp1 =
    force_pi 0 ;
    measure_po 10 ;
    pulse_clock 20 10 ;
    period 40 ;
 end;

 timeplate gen_tp1_ijtag_ctrl =
    force_pi 0 ;
    measure_po 10 ;
    pulse_clock 20 10 ;
    force ijtag_ue 24 ;
    force bisr_shift_en 39 ;
    force ijtag_ce 39 ;
    force ijtag_se 39 ;
    force ijtag_sel 39 ;
    period 40 ;
 end;

 procedure shift =
    scan_group g1 ;
    timeplate gen_tp1 ;
    // cycle 0 starts at time 0
    cycle =
        force_sci ;
        force edt_update 0 ;
        force scan_en 1 ;
        force test_clk 0 ;
        measure_sco ;
        pulse test_clk ;
        pulse i_clk ;
    end;
 end;

 procedure test_setup =
    timeplate gen_tp1 ;
    iReset -timeplate gen_tp1_ijtag_ctrl;
    iCall -timeplate gen_tp1_ijtag_ctrl dft_signal_iproc test_mode 1;
    iCall -timeplate gen_tp1_ijtag_ctrl aic_infra_p_rtl2_tessent_edt_c1_int_inst.setup edt_bypass off edt_low_power_shift_en off;
    // cycle 29 starts at time 1160
    cycle =
        force bisr_clk 0 ;
        force edt_update 0 ;
        force i_rst_n 1 ;
        force ijtag_tck 0 ;
        //force scan_en 0 ;
    end;
 end;

 procedure load_unload =
    scan_group g1 ;
    timeplate gen_tp1 ;
    // cycle 0 starts at time 0
    cycle =
        force bisr_clk 0 ;
        force bisr_reset 1 ;
        force edt_update 1 ;
        force i_clk 0 ;
        force i_rst_n 1 ;
        force ijtag_ce 0 ;
        force ijtag_reset 1 ;
        force ijtag_se 0 ;
        force ijtag_sel 0 ;
        force ijtag_si 0 ;
        force ijtag_tck 0 ;
        force ijtag_ue 0 ;
        force scan_en 1 ;
        //force test_clk 0 ;
        force test_mode 1 ;
        pulse test_clk ;
    end ;
    apply shift 8;
 end;

