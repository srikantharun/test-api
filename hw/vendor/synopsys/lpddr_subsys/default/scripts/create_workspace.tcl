#*****************************************************************************
#
# This file was automatically generated by coreConsultant (version V-2024.03).
#
# FILENAME : /home/projects_2/workspace/ruytterh/europa/europa_rtl_repo/hw/vendor/synopsys/lpddr_subsys/default/workspaces/test_for_readme/test_extended.tcl
# DATE :     August 08, 2024
# ABSTRACT : 
#            Script generated by write_batch_script.  This script
#            was used to capture the coreConsultant workspace 'test_for_readme'.
#            The command line was:
#                 write_batch_script -include -create_workspace -activities /home/projects_2/workspace/ruytterh/europa/europa_rtl_repo/hw/vendor/synopsys/lpddr_subsys/default/workspaces/test_for_readme/test_extended.tcl
#
# LICENSES AUTHORIZED: DesignWare-Foundation DWC-DDRCTL DWC-LPDDR5X-CONTROLLER-AFP
#
#
#*****************************************************************************

# Create the workspace
set workspace_name $::env(SNPS_DDR_WORKSPACE_NAME)
puts "INFO: using workspace name $workspace_name in coreconsultant"
create_workspace -name $workspace_name -installation $::env(DDR_CONTROLLER_IP_HOME)
set_design_attribute PreventFilePrefix 0
set_design_attribute PreventMacroPrefix 0

# Verify loaded plugins. These are found in the following locations:
#  - The RT_PLUGINS environment variable
#  - The RT_CONSULTANT_PLUGINS environment variable
#  - Shipped with the core (for coreConsultant/coreAssembler)
foreach plugin {cC_plugin RCEP_Plugin cbs_plugin RCEV_Plugin RCE_TPUBS_Plugin} {
  if {[catch {find_item $plugin -type knowledgeBase  -filter KbType==plugin}]} {
    return -code error "Plugin $plugin is not currently loaded."
  }
}


autocomplete_activity  SetDesignFileMacroPrefixes


# Load the primeprofile from the SNPS release.
set_prime_profile -file $::env(DDR_CONTROLLER_PRIMEPROFILE)
autocomplete_activity SelectPrimeProfile

# Complate the config options
# This also generates the RTL
autocomplete_activity SpecifyConfiguration

generate_views -views {IPXACTComponent ComponentRegisterHeaders ComponentConfigurationHeaders ComponentRAL ComponentRALWithAlternateRegister UVMComponentRAL UVMComponentRALWithAlternateRegister}

#set_tool_root pt_shell -root /opt/synopsys/prime/S-2021.06-SP1 -64bit

# set_upf_voltage -state DDRCTL_DOMAIN_ON -supply DDRCTL_DOMAIN.primary {0.81}
# set_upf_voltage -state DDRCTL_DOMAIN_GND -supply DDRCTL_DOMAIN.primary {0}
# set_upf_supply_voltage -supply DDRCTL_DOMAIN.primary.power -mode max 0.81
# set_upf_supply_voltage -supply DDRCTL_DOMAIN.primary.ground -mode max 0

# Do an early exit if we do not ask for sw_utils
set add_simulation_setup_to_workspace $::env(SNPS_DDR_WORKSPACE_SETUP_SWUTIL)
if { $add_simulation_setup_to_workspace==0} {
  puts "INFO: skipping simulation setup, sw_utils will not be generated, run with -s to include this part"
  exit
}

# Simulation setup values. Load the workspace using the GIU to see other options.
set_activity_parameter DWC_ddrctl_Simulate DryRun 1
set_activity_parameter DWC_ddrctl_Simulate ScriptsOnly 0
set_activity_parameter DWC_ddrctl_Simulate tb_lpddr5_data_rate 12
set_activity_parameter DWC_ddrctl_Simulate tb_lpddr5_device 9
set_activity_parameter DWC_ddrctl_Simulate PhyType 4
set_activity_parameter DWC_ddrctl_Simulate run_test_lpddr4 0
set_activity_parameter DWC_ddrctl_Simulate EmailAddress {}

# Generate the simulation env, this includes the sw_utils used for driver development, and the required sim sources for subsys simulations.
autocomplete_activity  DWC_ddrctl_Simulate

exit
